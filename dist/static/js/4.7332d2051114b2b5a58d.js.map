{"version":3,"sources":["webpack:///src/pages/Search/Search.vue","webpack:///./src/pages/Search/Search.vue?ad19","webpack:///./src/pages/Search/Search.vue"],"names":["Search","data","keyword","imgBaseUrl","noSearchShops","computed","extends_default","Object","vuex_esm","watch","searchShops","value","length","this","methods","search","trim","$store","dispatch","components","HeaderTop","Search_Search","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","_v","on","submit","$event","preventDefault","directives","name","rawName","expression","type","placeholder","domProps","input","target","composing","_l","item","key","id","to","tag","src","image_path","_s","month_sales","recent_order_num","delivery_fee","float_minimum_order_amount","distance","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"2KA2CAA,GACAC,KADA,WAEA,OACAC,QAAA,GACAC,WAAA,8BACAC,eAAA,IAGAC,SAAYC,OACZC,OAAAC,EAAA,EAAAD,EAAA,iBAEAE,OACAC,YADA,SACAC,GACAA,EAAAC,OAGAC,KAAAT,eAAA,EAFAS,KAAAT,eAAA,IAMAU,SACAC,OADA,WAGA,IAAAb,EAAAW,KAAAX,QAAAc,OAEAd,GACAW,KAAAI,OAAAC,SAAA,cAAAhB,KAIAiB,YACAC,YAAA,ICvEeC,GADEC,OAFjB,WAA0B,IAAAC,EAAAV,KAAaW,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,WAAqBE,YAAA,WAAqBF,EAAA,aAAkBG,OAAOC,MAAA,QAAcP,EAAAQ,GAAA,KAAAL,EAAA,QAAyBE,YAAA,cAAAI,IAA8BC,OAAA,SAAAC,GAAkD,OAAxBA,EAAAC,iBAAwBZ,EAAAR,OAAAmB,OAA4BR,EAAA,SAAcU,aAAaC,KAAA,QAAAC,QAAA,UAAA3B,MAAAY,EAAA,QAAAgB,WAAA,YAAwEX,YAAA,eAAAC,OAAoCW,KAAA,SAAAH,KAAA,SAAAI,YAAA,cAA2DC,UAAW/B,MAAAY,EAAA,SAAsBS,IAAKW,MAAA,SAAAT,GAAyBA,EAAAU,OAAAC,YAAsCtB,EAAArB,QAAAgC,EAAAU,OAAAjC,WAAkCY,EAAAQ,GAAA,KAAAL,EAAA,SAA0BE,YAAA,gBAAAC,OAAmCW,KAAA,SAAAH,KAAA,cAAiCd,EAAAQ,GAAA,KAAAR,EAAAnB,cAAowBsB,EAAA,OAAiBE,YAAA,gBAA0BL,EAAAQ,GAAA,eAA/yBL,EAAA,WAAmDE,YAAA,SAAmBF,EAAA,MAAWE,YAAA,kBAA6BL,EAAAuB,GAAAvB,EAAA,qBAAAwB,GAAyC,OAAArB,EAAA,eAAyBsB,IAAAD,EAAAE,GAAArB,YAAA,UAAAC,OAAyCqB,GAAA,qCAAwCC,IAAA,QAAczB,EAAA,WAAgBE,YAAA,cAAwBF,EAAA,OAAYE,YAAA,iBAAAC,OAAoCuB,IAAA7B,EAAApB,WAAA4C,EAAAM,gBAAwC9B,EAAAQ,GAAA,KAAAL,EAAA,WAA8BE,YAAA,eAAyBF,EAAA,OAAYE,YAAA,oBAA8BF,EAAA,KAAAA,EAAA,QAAAH,EAAAQ,GAAAR,EAAA+B,GAAAP,EAAAV,WAAAd,EAAAQ,GAAA,KAAAL,EAAA,KAAAH,EAAAQ,GAAA,MAAAR,EAAA+B,GAAAP,EAAAQ,aAAAR,EAAAS,kBAAA,QAAAjC,EAAAQ,GAAA,KAAAL,EAAA,KAAAH,EAAAQ,GAAAR,EAAA+B,GAAAP,EAAAU,cAAAV,EAAAW,4BAAA,aAAAnC,EAAA+B,GAAAP,EAAAY,UAAA,iBAAoR,MAA2C,IAEp/CC,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACE/D,EACAqB,GATF,EAVA,SAAA2C,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/4.7332d2051114b2b5a58d.js","sourcesContent":["<!--  -->\n<template>\n  <section class=\"search\">\n    <HeaderTop title=\"搜索\"/>\n    <form class=\"search_form\" @submit.prevent=\"search\">\n      <input\n        type=\"search\"\n        name=\"search\"\n        placeholder=\"请输入商家或美食名称\"\n        class=\"search_input\"\n        v-model=\"keyword\"\n      >\n      <input type=\"submit\" name=\"submit\" class=\"search_submit\">\n    </form>\n    <section class=\"list\" v-if=\"!noSearchShops\">\n      <ul class=\"list_container\">\n        <!--:to=\"'/shop?id='+item.id\"-->\n        <!-- tag属性<a>标签将会成为真实的链接 (并且可以获取到正确的跳转)，但是激活的类将会被应用在外部的<li>标签上。\n          a标签替换为li标签 -->\n        <router-link to=\"{path:'/shop', query:{id:item.id}}\" tag=\"li\"\n        v-for=\"item in searchShops\" :key=\"item.id\" class=\"list_li\">\n          <section class=\"item_left\">\n            <img :src=\"imgBaseUrl + item.image_path\" class=\"restaurant_img\">\n          </section>\n          <section class=\"item_right\">\n            <div class=\"item_right_text\">\n              <p>\n                <span>{{item.name}}</span>\n              </p>\n              <p>月售 {{item.month_sales||item.recent_order_num}} 单</p>\n              <p>{{item.delivery_fee||item.float_minimum_order_amount}} 元起送 / 距离 {{item.distance}} 公里</p>\n            </div>\n          </section>\n        </router-link>\n      </ul>\n    </section>\n    <div class=\"search_none\" v-else>很抱歉！无搜索结果</div>\n  </section>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport HeaderTop from \"../../components/HeaderTop/HeaderTop.vue\";\nexport default {\n  data() {\n    return {\n      keyword: '',\n      imgBaseUrl: 'http://cangdu.org:8001/img/',\n      noSearchShops: false\n    };\n  },\n  computed: {\n    ...mapState(['searchShops'])\n  },\n  watch: {\n    searchShops (value) {\n      if(!value.length) {  //如果没有数据\n        this.noSearchShops = true\n      } else {  //如果有数据\n        this.noSearchShops = false\n      }\n    }\n  },\n  methods: {\n    search() {\n      //得到搜索关键字,去除字符串的头尾空格\n      const keyword = this.keyword.trim()\n      //进行搜索\n      if (keyword) {\n        this.$store.dispatch('searchShops',keyword)\n      }\n    }\n  },\n  components: {\n    HeaderTop\n  }\n};\n</script>\n<style lang='stylus' rel='stylesheet/stylus' scoped>\n@import '../../common/stylus/mixins.styl';\n\n.search {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n\n  .search_form {\n    clearFix();\n    margin-top: 45px;\n    background-color: #fff;\n    padding: 12px 8px;\n\n    input {\n      height: 35px;\n      padding: 0 4px;\n      border-radius: 2px;\n      font-weight: bold;\n      outline: none;\n\n      &.search_input {\n        float: left;\n        width: 79%;\n        border: 4px solid #f2f2f2;\n        font-size: 14px;\n        color: #333;\n        background-color: #f2f2f2;\n      }\n\n      &.search_submit {\n        float: right;\n        width: 18%;\n        border: 4px solid #02a774;\n        font-size: 16px;\n        color: #fff;\n        background-color: #02a774;\n      }\n    }\n  }\n\n  .list {\n    .list_container {\n      background-color: #fff;\n\n      .list_li {\n        display: flex;\n        justify-content: center;\n        padding: 10px;\n        border-bottom: 1px solid $bc;\n\n        .item_left {\n          margin-right: 10px;\n\n          .restaurant_img {\n            width: 50px;\n            height: 50px;\n            display: block;\n          }\n        }\n\n        .item_right {\n          font-size: 12px;\n          flex: 1;\n\n          .item_right_text {\n            p {\n              line-height: 12px;\n              margin-bottom: 6px;\n\n              &:last-child {\n                margin-bottom: 0;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  .search_none {\n    margin: 0 auto;\n    color: #333;\n    background-color: #fff;\n    text-align: center;\n    margin-top: 0.125rem;\n  }\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/Search/Search.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"search\"},[_c('HeaderTop',{attrs:{\"title\":\"搜索\"}}),_vm._v(\" \"),_c('form',{staticClass:\"search_form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.search($event)}}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.keyword),expression:\"keyword\"}],staticClass:\"search_input\",attrs:{\"type\":\"search\",\"name\":\"search\",\"placeholder\":\"请输入商家或美食名称\"},domProps:{\"value\":(_vm.keyword)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.keyword=$event.target.value}}}),_vm._v(\" \"),_c('input',{staticClass:\"search_submit\",attrs:{\"type\":\"submit\",\"name\":\"submit\"}})]),_vm._v(\" \"),(!_vm.noSearchShops)?_c('section',{staticClass:\"list\"},[_c('ul',{staticClass:\"list_container\"},_vm._l((_vm.searchShops),function(item){return _c('router-link',{key:item.id,staticClass:\"list_li\",attrs:{\"to\":\"{path:'/shop', query:{id:item.id}}\",\"tag\":\"li\"}},[_c('section',{staticClass:\"item_left\"},[_c('img',{staticClass:\"restaurant_img\",attrs:{\"src\":_vm.imgBaseUrl + item.image_path}})]),_vm._v(\" \"),_c('section',{staticClass:\"item_right\"},[_c('div',{staticClass:\"item_right_text\"},[_c('p',[_c('span',[_vm._v(_vm._s(item.name))])]),_vm._v(\" \"),_c('p',[_vm._v(\"月售 \"+_vm._s(item.month_sales||item.recent_order_num)+\" 单\")]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(item.delivery_fee||item.float_minimum_order_amount)+\" 元起送 / 距离 \"+_vm._s(item.distance)+\" 公里\")])])])])}),1)]):_c('div',{staticClass:\"search_none\"},[_vm._v(\"很抱歉！无搜索结果\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-55bee08d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/Search/Search.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-55bee08d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Search.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Search.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Search.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-55bee08d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Search.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-55bee08d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Search/Search.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}